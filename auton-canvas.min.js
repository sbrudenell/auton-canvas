/*
 * Copyright 2011 The Auton Lab.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(au,w){var M=au.document,aD=au.navigator,r=(au.auton=(au.auton||{})),s=(r.canvas=(r.canvas||{})),Q=s.CMD_MOVETO="M",x=s.CMD_LINETO="L",az=s.CMD_DELIMIT="Z",m=s.CMD_CIRCLEAT="R",v=s.CMD_CWCIRCLEAT="r",ap=s.TXT_ALIGN_LEFT="left",U=s.TXT_ALIGN_CENTER="center",f=s.TXT_ALIGN_RIGHT="right",aA=s.TXT_VALIGN_MIDDLE="middle",ak=s.TXT_VALIGN_BASELINE="baseline",ag=Array,av=Number,G=String,J=Math,E=J.round,ao=J.ceil,S=J.floor,d=J.tan,ab=J.PI,b=Infinity,u=-b,aC,H,aB=1,C=2,h=4,n=8,aj=16,ah=32,R=64,B=128,af=256,l=512,an=1024,ai=512,aq=1024,p=2048,I=4096,k=-1&~R,e,ad,Z,X,ar,Y,ay,t,A,g,am,aw,L,ax,at,i,T,ae,j,o,ac,V,N,y,F,aa,W,z,c,a,K,P,q,al;if(s.version){return}s.version="1.0";N=function(aE,D,aI,aG,aF,aH){var O=aH?R:0;if((D!==aE._minX)||(aI!==aE._minY)){aE._minX=D;aE._minY=aI;O|=n}if((aG!==aE._maxX)||(aF!==aE._maxY)){aE._maxX=aG;aE._maxY=aF;O|=aj}if(O){aE._mod|=O}};K=function(D,aK,aL){var O=aK._p,aJ,aF,aH,aE,aI,aG;if(O&&(O!==D)){O.remove(aK);O=w}if(!O||(aK!==aL)){aF=D._c;aH=aF.length;aI=-1;aG=(aL>=0?aL:aL?-1:aH);for(aJ=0;aJ<aH&&((O&&aI<0)||aG<0);aJ++){aE=aF[aJ];if(aE===aK){aI=aJ}else{if(aE===aL){aG=aJ}}}if(aG<0){aG=aH}if((aI>=0)&&(aI===aG-1)){aG=-1}else{if(aI>=0){aF.splice(aI,1)}if(aG===aH){aF[aH]=aK}else{aF.splice(aG,0,aK)}aK._p=D}}else{aG=-1}return aG};P=function(aE,aF){var O=-1,D,aG;if(aF._p===aE){D=aE._c;for(O=0,aG=D.length;O<aG;O++){if(D[O]===aF){D.splice(O,1);break}}if(O<aG){aF._p=w}else{O=-1}}return O};ac=function(aF,aE){var O,D;for(O in aE){if(aE.hasOwnProperty(O)){D=aE[O];if(aF[O]!==D){aF[O]=D}delete aE[O]}}};V=function(O,D){if(typeof D==="string"){D=M.getElementById(D)}if(D&&(D.nodeType===1)){D.appendChild(O._elt)}};X=function(){};ar=X.prototype;ar._p=w;ar._tx=0;ar._ty=0;ar._sx=1;ar._sy=1;ar._minX=0;ar._minY=0;ar._maxX=0;ar._maxY=0;ar._v=true;ar._mod=k;ar._construct=function(){};ar.canvas=function(){var D;D=this;while(D&&!D.draw){D=D._p}return D};ar.parent=function(){return this._p};ar.toBack=function(){var D=this._p;if(D){D.insertBefore(this,w)}return this};ar.toFront=function(){var D=this._p;if(D){D.insertBefore(this,0)}return this};ar.remove=function(){var D=this._p;if(D){D.remove(this)}return this};ar.visible=function(D){if(D===w){return this._v}else{if(this._v!==D){this._v=!!D;this._mod|=aB}return this}};ar.show=function(){return this.visible(true)};ar.hide=function(){return this.visible(false)};ar.translateX=function(D){if(D===w){return this._tx}else{if(this._tx!==D){this._tx=D;this._mod|=C}return this}};ar.translateY=function(D){if(D===w){return this._ty}else{if(this._ty!==D){this._ty=D;this._mod|=C}return this}};ar.scaleX=function(D){if(D===w){return this._sx}else{if(this._sx!==D){this._sx=D;this._mod|=h}return this}};ar.scaleY=function(D){if(D===w){return this._sy}else{if(this._sy!==D){this._sy=D;this._mod|=h}return this}};ar.translate=function(O,D){if(O===w){return[this._tx,this._ty]}else{if((this._tx!==O)||(this._ty!==D)){this._tx=O;this._ty=D;this._mod|=C}return this}};ar.scale=function(O,D){if(O===w){return[this._sx,this._sy]}else{if((this._sx!==O)||(this._sy!==D)){this._sx=O;this._sy=D;this._mod|=h}return this}};ar.transform=function(O,D,aG,aF){var aE=0;if(O===w){return{t:[this._tx,this._ty],s:[this._sx,this._sy]}}else{if((this._tx!==O)||(this._ty!==D)){this._tx=O;this._ty=D;aE=C}if((this._sx!==aG)||(this._sy!==aF)){this._sx=aG;this._sy=aF;aE|=h}if(aE){this._mod|=aE}return this}};Y=function(){};ay=Y.prototype=new X();ay._construct=function(){ar._construct.apply(this);this._c=[]};ay.text=function(aF,D,aG,O){var aE=new T(aF,D,aG,O);this.add(aE);return aE};ay.path=function(O){var D=new j(O);this.add(D);return D};ay.group=function(){var D=new ax();this.add(D);return D};ay.add=function(D){return this.insertBefore(D,w)};ay.insertBefore=function(O,D){if(!(O instanceof at||O instanceof ax)){throw"insertBefore: i don't recognize "+O+" as a child i should have"}K(this,O,D);return this};ay.remove=function(D){P(this,D);return this};ay.clear=function(){var O,D,aE;D=this._c;for(O=0,aE=D.length;O<aE;O++){D[O]._p=w}D.length=0;return this};ay._recalc=function(){var aT=b,aR=b,aS=u,aQ=u,aI=-1,aK=false,aH,D,aG,O,aP,aO,aF,aE,aN,aL,aM,aJ;D=this._c;for(aH=0,aG=D.length;aH<aG;aH++){O=D[aH];if(O._v){if(aH>aI){O._recalc();aI=aH}if(!aK){if(O._mod&(aB|C|h|n|aj|ah)){aK=true;aH=-1}}else{aP=O._tx;aO=O._ty;aF=O._sx;aE=O._sy;aN=O._minX*aF+aP;aL=O._minY*aE+aO;aM=O._maxX*aF+aP;aJ=O._maxY*aE+aO;if(aN<aT){aT=aN}if(aL<aR){aR=aL}if(aM>aS){aS=aM}if(aJ>aQ){aQ=aJ}}}}if(aT<=aS){N(this,aT,aR,aS,aQ)}};t=s.Canvas=function(aE,D,O){this._construct();if(this.width){this.width(aE)}if(this.height){this.height(D)}V(this,O)};A=t.prototype=new Y();A._width=300;A._height=150;A._autoBounds=false;A._btx=0;A._bty=0;A._construct=q=function(){ay._construct.apply(this,arguments);this._style={};this._attr={}};A.element=function(){return this._elt};A.width=function(D){if(D===w){return this._width}else{D=~~av(D);if(D>0){this._width=D;this._setWidth(D)}return this}};A.height=function(D){if(D===w){return this._height}else{D=~~av(D);if(D>0){this._height=D;this._setHeight(D)}return this}};A.draw=function(){var aK=this._style,aG=this._attr,aF=this._elt,aE,D,O,aJ,aI,aH;if(this._autoBounds){this._recalc();if(this._mod&(n|aj)){aE=this._minX;D=this._minY;O=S(aE);aJ=S(D);aI=ao(this._maxX-aE);aH=ao(this._maxY-D);aK.left=O+"px";aK.top=aJ+"px";this.width(aI);this.height(aH);if((-O!==this._btx)||(-aJ!==this._bty)){this._btx=-O;this._bty=-aJ;this._mod|=C}}}ac(aF.style,aK);ac(aF,aG);this._baseDraw();this._mod=0;return this};A.toFront=A.toBack=w;A.visible=function(D){if(D===w){return this._elt.style.visible!=="none"}else{this._elt.style.visible=(D?"":"none");return this}};g=s.Plotter=function(D){this._construct();V(this,D)};aw=s.PlotRegion=function(){this._construct()};ax=s.Group=function(){this._construct()};ax.prototype=new Y();at=function(){};i=at.prototype=new X();i._width=1;i._stroke="black";i.stroke=function(D){if(D===w){return this._stroke}else{if(typeof D!=="string"){D=w}if(D!==this._stroke){this._stroke=D;this._mod|=af}return this}};i.strokeWidth=function(D){if(D===w){return this._width}else{if((D>0)&&D!==this._width){this._width=D;this._mod|=B}return this}};T=s.Text=function(aE,D,aF,O){this._construct();this.text(aE);this.font(D);this.align(aF);this.valign(O)};ae=T.prototype=new at();ae._text="";ae._font="10px sans-serif";ae._align=ap;ae._valign=aA;ae.text=function(D){if(D===w){return this._text}else{if(D!==this._text){this._text=D;this._mod|=aq}}};ae.font=function(D){if(D===w){return this._font}else{if(D!==this._font){this._font=D;this._mod|=ai}}};ae.align=function(D){if(D===w){return this._align}else{if(D!==this._align){this._align=D;this._mod|=p}}};ae.valign=function(D){if(D===w){return this._valign}else{if(D!==this._valign){this._valign=D;this._mod|=I}}};j=s.Path=function(D){this._construct();if(D){this.data(D)}};o=j.prototype=new at();o._fill=w;o._construct=al=function(){i._construct.apply(this);this._data=[]};o.fill=function(aE,aG){var O,D=0,aF=this._fill;if(aE===w){return aF}else{O=typeof aE;if(O instanceof ag){if(aE.length!==2||typeof aE[0]!=="string"||typeof aE[1]!=="string"){O=aE=w}else{if(aE[0]===aE[1]){aE=aE[0];O="string"}}}if(O==="string"){if(typeof aF!=="string"||aE!==aF){D=B}}else{if(aE){if(!aF||typeof aF==="string"||aE[0]!==aF[0]||aE[1]!==aF[1]||aG!==this._angle){aE=[aE[0],aE[1]];aG=aG||0;D=B}}}if(D){this._fill=aE;this._angle=aG;this._fillp=w;this._mod|=D}return this}};o.data=function(D){if(D===w){return this._data}else{if(D instanceof ag){this._data=D;this._mod=(this._mod&~R)|an|ah}return this}};o.clear=function(){this.data([]);return this};o.bounds=function(D,aF,aE,O){if(D===w){return[this._minX,this._minY,this._maxX,this._maxY]}else{N(this,D,aF,aE,O,true);return this}};o._recalc=function(){var aM=this._mod,aI,aH,aE,O,aK,aJ,aF,aG,aN,aL,D;if((aM&(ah|R))===ah){aI=b;aH=b;aE=u;O=u;aJ=this._data;for(aK=0,aF=aJ.length;aK<aF;){aG=aJ[aK++];if(aG===Q||aG===x){aN=aJ[aK++];aL=aJ[aK++];if(aN<aI){aI=aN}if(aL<aH){aH=aL}if(aN>aE){aE=aN}if(aL>O){O=aL}}else{if(aG===m||aG===v){aN=aJ[aK++];aL=aJ[aK++];D=aJ[aK++];if(aN-D<aI){aI=aN-D}if(aL-D<aH){aH=aL-D}if(aN+D>aE){aE=aN+D}if(aL+D>O){O=aL+D}}}}this._mod=(aM&~ah);N(this,aI,aH,aE,O)}};e=M.createElement("canvas");if(e&&e.getContext&&e.getContext("2d")){ay._draw=function(aN,D,aO,aI,aG){var aK,aE,aF,O,aJ,aH,aM,aL;aE=this._c;for(aK=0,aF=aE.length;aK<aF;aK++){O=aE[aK];aM=O._sx*aI;aL=O._sy*aG;aJ=O._tx*aI+D;aH=O._ty*aG+aO;if(O._v){O._draw(aN,aJ,aH,aM,aL);O._mod=0}}};A._construct=function(){var D,O;q.apply(this,arguments);D=this._elt=M.createElement("canvas");O=D.style;if(this._autonBounds){O.position="absolute"}this._ctx=this._elt.getContext("2d")};A._setWidth=function(D){this._attr.width=D};A._setHeight=function(D){this._attr.height=D};A._baseDraw=function(){var D=this._ctx;D.canvas.width=this._width;this._draw(D,this._tx+this._btx,this._ty+this._bty,this._sx,this._sy)};am=g.prototype;am._construct=function(){var D=this._elt=M.createElement("div"),O=D.style;O.position="relative";O.margin=O.padding="0px";this._c=[]};am.element=A.element;am.add=ay.add;am.insertBefore=function(aF,aE){var D,O;if(!(aF instanceof aw)){throw"insertBefore: i don't recognize "+aF+" as a child i should have"}D=K(this,aF,aE);if(D>=0){O=this._c;aE=(D<O.length-1?O[D+1]:null);this._elt.insertBefore(aF._elt,aE)}return this};am.remove=function(O){var D=P(this,O);if(D>=0){this._elt.removeChild(O._elt)}return this};am.clear=function(){var aE=this._elt,O,D,aG,aF;D=this._c;for(O=0,aG=D.length;O<aG;O++){aF=D[O];aE.removeChild(aF._elt);aF._p=w}D.length=0;return this};L=aw.prototype=new t();L._autoBounds=true;ae._draw=function(aE,O,D,aG,aF){aE.textAlign=this._align;aE.textBaseline=(this._valign===ak?"alphabetic":"middle");aE.font=this._font;aE.fillStyle=this._stroke;aE.fillText(this._text,O,D)};o._draw=function(aR,aL,aK,aF,aE){var aG=this._stroke,aQ=this._width,aT=this._fill,aI=typeof aT,aZ,a1=aL,a0=aK,aO=aF,aN=aE,a3=false,aW=false,aY,a4,aU,a2,aP,aS,O,D,aM,aX,aV,aJ,aH;if(aQ<=0){aG=w}if(aG){aR.lineWidth=aQ;aR.strokeStyle=aG;aW=true}else{aG=w}if(aI==="string"){aR.fillStyle=aT}else{if(aT){aZ=this._fillp;if(this._mod&(C|h|n|aj|ah)){aZ=w}if(!aZ){this._recalc();aX=aO*(this._maxX-this._minX)/2;aV=aN*(this._maxY-this._minY)/2;aY=(this._angle+ab)%(2*ab);if(aY<0){aY+=2*ab}aY-=ab;a4=d(aY);if((aY>=-ab/4)&&(aY<ab/4)){aJ=aX;aH=a4*aV}else{if((aY>=ab/4)&&(aY<3*ab/4)){aH=aV;aJ=aX/a4}else{if((aY>=-3*ab/4)&&(aY<-ab/4)){aH=-aV;aJ=-aX/a4}else{aJ=-aX;aH=-a4*aV}}}O=(this._minX+aX)*aO+a1;D=(this._minY+aV)*aN+a0;aZ=aR.createLinearGradient(O-aJ,D-aH,O+aJ,D+aH);aZ.addColorStop(0,aT[0]);aZ.addColorStop(1,aT[1]);this._fillp=aZ}aT=aZ;aR.fillStyle=aZ;aW=true}}if(aG||aT){aR.beginPath();a2=this._data;for(aU=0,aP=a2.length;aU<aP;){aS=a2[aU++];if(aS===az){if(a3&&aW){aR.restore();a3=false;a1=aL;a0=aK;aO=aF;aN=aE}if(aT){aR.fill()}if(aG){aR.stroke()}aR.beginPath()}else{if(aS===x){aR.lineTo(a2[aU++]*aO+a1,a2[aU++]*aN+a0)}else{if(aS===Q){aR.moveTo(a2[aU++]*aO+a1,a2[aU++]*aN+a0)}else{if(aS===m||aS===v){if((aO!==aN)&&!a3){aR.save();aR.translate(a1,a0);aR.scale(aO,aN);a1=a0=0;aO=aN=1;a3=true}O=a2[aU++]*aO+a1;D=a2[aU++]*aN+a0;aM=a2[aU++]*aO;aR.moveTo(O+aM,D);if(aS===m){aR.arc(O,D,aM,2*ab,ab,true);aR.arc(O,D,aM,ab,0,true)}else{aR.arc(O,D,aM,0,2*ab,false)}}}}}}if(a3){aR.restore()}if(aT){aR.fill()}if(aG){aR.stroke()}}}}else{if(/MSIE/.test(aD.userAgent)){if(!M.namespaces.v){M.namespaces.add("v","urn:schemas-microsoft-com:vml")}if(!M.namespaces.o){M.namespaces.add("o","urn:schemas-microsoft-com:office:office")}if(!M.styleSheets._acanvas_vml){M.createStyleSheet().owningElement.id="_acanvas_vml";M.styleSheets._acanvas_vml.cssText="v\\:shape,v\\:fill,v\\:stroke{behavior:url(#default#VML);}"}e=M.createElement("div");ad=2147483647;Z=~~(-ad/2);aC=" m0,0 l e";H="<v:stroke/>";y=function(aG,aH){var aE=aG._elt,aF,O,D,aI;if(aE){aF=aE.style;if(aF.display!=="none"^aH){aF.display=(aH?"":"none")}}else{D=aG._c;for(O=0,aI=D.length;O<aI;O++){y(D[O],aH)}}};F=function(aF){var aE,O,aG,D=aF._elt;if(D){return D}O=aF._c;for(aE=0,aG=O.length;aE<aG;aE++){D=F(O[aE]);if(D){return D}}return w};aa=function(aG,aH){var aE,O,aJ,aI,D,aF;while(true){O=aG._c;aJ=O.length;if(aH===w){aH=aJ}else{if(typeof aH!=="number"){for(aE=0;aE<aJ;aE++){if(O[aE]===aH){break}}aH=aE}}for(aE=aH+1;aE<aJ;aE++){aI=O[aE];D=F(aI);if(D){return D}}aF=aG._p;if(!aF||aG.draw){break}aH=aG;aG=aF}return w};W=function(aI,D,aG){var aF=aI._elt,aE,O,aH;if(aF){D.insertBefore(aF,aG||null)}else{O=aI._c;for(aE=0,aH=O.length;aE<aH;aE++){W(O[aE],D,aG)}}};z=function(aG,aI){var aF=aI._elt,D,aE,O,aH;if(aF){D=aF.parentNode;if(D){D.removeChild(aF)}}else{O=aI._c;for(aE=0,aH=O.length;aE<aH;aE++){z(aI,O[aE])}}};c={};a=function(D){var aG=M.createElement("span"),aF=M.createElement("img"),O,aE="margin:0;padding:0;border:0;vertical-align:baseline;text-decoration:none;";e.style.cssText=aE+"position:absolute;top:0;left:0;visibility:hidden;";aG.style.cssText=aE+"font:"+D+";line-height:normal;";aF.style.cssText=aE;aF.height=1;aF.width=1;aG.appendChild(M.createTextNode("x"));M.body.appendChild(e);e.appendChild(aG);e.appendChild(aF);O=aF.offsetTop;M.body.removeChild(e);e.removeChild(aG);e.removeChild(aF);return -O};ay.insertBefore=function(aF,aE){var O=K(this,aF,aE),D;if((O>=0)&&(aF._elt||aF._c.length)){D=this;while(D&&!D.draw){D=D._p}if(D){W(aF,D._elt,aa(this,O))}}return this};ay.remove=function(O){var D=P(this,O);if(D>=0){z(this,O);O._p=w}return this};ay.clear=function(){var O,D,aE;D=this._c;for(O=0,aE=D.length;O<aE;O++){z(this,D[O])}D.length=0;return this};ay._draw=function(D,aS,aI,aG){var aL=this._mod,aN=aL&(h|C),aK,aE,aF,O,aQ,aR,aP,aJ,aH,aO,aM;aE=this._c;for(aK=0,aF=aE.length;aK<aF;aK++){O=aE[aK];aQ=O._mod;if(aQ&aB){y(O,O._v);aQ&=~aB;O._mod=aQ}if(O._v){aR=O._tx;aP=O._ty;if(aN){aQ|=aN;if((aL&h)&&(aR||aP)){aQ|=C}O._mod=aQ}aO=O._sx*aI;aM=O._sy*aG;aJ=aR*aI+D;aH=aP*aG+aS;O._draw(aJ,aH,aO,aM);O._mod=0}}};ar._alpha2=1;A._construct=function(){q.apply(this,arguments);this._elt=M.createElement("div");var D=this._elt.style;D.margin=D.padding="0px";D.overflow=this._overflow?"visible":"hidden";D.position="relative"};A._setWidth=function(D){this._style.width=D+"px"};A._setHeight=function(D){this._style.height=D+"px"};A._baseDraw=function(){this._draw(this._tx+this._btx-0.5,this._ty+this._bty-0.5,this._sx,this._sy)};am=g.prototype=new t();am._overflow=true;am.width=am.height=am.path=am.group=w;L=aw.prototype=new ax();ae._construct=function(){var D=this._elt=M.createElement("div"),O=D.style;O.position="absolute";O.margin=O.padding="0px"};ae._draw=function(aJ,aI,aO,aL){var aM=this._mod,aH,D,aP,O,aR,aK,aN,aG,aE,aF,aQ;if(aM){aH=this._elt;D=aH.style}if((aM&aq)&&aH.innerText!==(aP=this._text)){aH.innerText=aP}if((aM&af)&&D.color!==(aR=this._stroke)){D.color=aR}if(aM&(ai|I|C)){aN=this._valign;O=this._font;if(aM&ai&&D.font!==O){D.font=O;D.lineHeight="normal"}if(aN===ak){if((aE=c[O])===w){aE=c[O]=a(O)}}else{aE=-aH.offsetHeight/2}if(D.top!==(aQ=~~(aE+aI)+"px")){D.top=aQ}}if(aM&(aq|ai|p|C)){aK=this._align;if(aK===U){aG=-aH.offsetWidth/2}else{if(aK===f){aG=-aH.offsetWidth}else{aG=0}}if(D.left!==(aF=~~(aG+aJ)+"px")){D.left=aF}}};o._construct=function(){al.apply(this,arguments);e.innerHTML='<v:shape coordsize="'+ad+","+ad+'" coordorigin="'+Z+","+Z+'" path="'+aC+'" style="position:absolute;margin:0px;padding:0px;"/>';var D=this._elt=e.firstChild;e.removeChild(D)};o._draw=function(br,bp,aK,aJ){var aH=this._mod,bk,bi,aY,aW,aN,aL,bv,bu,aS,bo,bx,bq,bB,bz,bm,bs,aZ,aX,bn,a9,a8,aR,aQ,aI,bd,a3,a6,a4,bt,D,ba,aU,bE,a0,aP,aV,aF,bD,bw,aM,bh,by,bl,bb,a5,a7,bj,a2,bc,aE,O,bg,be,a1,aT,bC,aO,bf,aG,bA;if((aH&(ah|R))===ah){this._recalc();aH=this._mod}if(aH&(an|l|af|B|n|aj|C|h)){aS=this._elt}if(aH&(an|n|aj|C|h)){bk=this._minX;bi=this._minY;aY=this._maxX;aW=this._maxY}if(aH&l){D=this._width+"px";if(aS.strokeweight!==D){aS.strokeweight=D}}if(aH&af){a3=this._stroke||"transparent";a4=a3.length;if(a3==="transparent"){bt=0}else{if(a4>12&&a3.charAt(0)==="r"&&a3.charAt(1)==="g"&&a3.charAt(2)==="b"&&a3.charAt(3)==="a"&&a3.charAt(4)==="("&&a3.charAt(a4-1)===")"){a6=a3.lastIndexOf(",");if(a6>0){bt=av(a3.substring(a6+1,a4-1))||0;a3="rgb("+a3.substring(5,a6);a3+=")"}else{bt=0}}else{bt=1}}aI=(bt>0?"true":"false");if(aS.stroked!==aI){aS.stroked=aI}if(aI==="true"){if(aS.strokecolor!==a3){aS.strokecolor=a3}ba=this._strokeelt;if(bt<1&&!ba){aS.insertAdjacentHTML("afterBegin",H);ba=this._strokeelt=aS.firstChild}if(ba){bt=G(bt>1?1:bt>0?bt:0);if(ba.opacity!==bt){ba.opacity=bt}}}}if(aH&B){aU=this._fill;bE=typeof aU;a3=a0=w;bt=aP=0;if(bE==="string"){a3=aU}else{if(aU){a3=aU[0];a0=aU[1];aV=((this._angle-ab/2)%(2*ab));if(aV<0){aV+=2*ab}aV=E(aV*180/ab)}}for(bx=0;bx<2;bx++){bw=(bx?a3:a0);if(bw){if(bw==="transparent"){aM=0}else{if((a4=bw.length)>12&&bw.charAt(0)==="r"&&bw.charAt(1)==="g"&&bw.charAt(2)==="b"&&bw.charAt(3)==="a"&&bw.charAt(4)==="("&&bw.charAt(a4-1)===")"){a6=bw.lastIndexOf(",");if(a6>0){aM=av(bw.substring(a6+1,a4-1))||0;bw="rgb("+bw.substring(5,a6);bw+=")"}else{aM=0}}else{aM=1}}if(bx){a3=bw;bt=aM}else{a0=bw;aP=aM}}}bd=((bt>0||aP>0)?"true":"false");if(aS.filled!==bd){aS.filled=bd}if(bd==="true"){if(aS.fillcolor!==a3){aS.fillcolor=a3}bE=(bE==="string"?"solid":"gradient");aF=this._fillelt;if(aF?(bE!=="solid"&&aP!==this._alpha2):(bE!=="solid"||bt<1)){bD='<v:fill method="none" type="';bD+=bE;bD+='" opacity="';bD+=bt;if(bE!=="solid"){bD+='" color2="';bD+=a0;bD+='" o:opacity2="';bD+=aP;bD+='" angle="';bD+=aV;this._alpha2=aP}bD+='"/>';if(aF){aF.outerHTML=bD}else{aS.insertAdjacentHTML("afterBegin",bD);aF=this._fillelt=aS.firstChild}}else{if(aF){if(aF.type!==bE){aF.type=bE}if(aF.opacity!==bt){aF.opacity=bt}if(bE!=="solid"){if(aF.color2!==a0){aF.color2=a0}if(aF.angle!==aV){aF.angle=aV}}}}}}if(aH&(n|aj|C|h)){bo=aS.style;if((bk>aY)||(bi>aW)){if(bo.display!=="none"){bo.display="none"}}else{bh=(aK<0?-aK:aK)*(aY-bk);by=(aJ<0?-aJ:aJ)*(aW-bi);bs=(aK<0?aY:bk)*aK+br;bl=(aJ<0?aW:bi)*aJ+bp;bb=ao(bs);a5=ao(bl);a7=S(bs+bh);bj=S(bl+by);if(a7<bs){bb=a7}if(bj<bl){a5=bj}a2=a7-bb;bc=bj-a5;if(a2<=0){a2=1}if(bc<=0){bc=1}bA=aK<0?(aJ<0?"xy":"x"):(aJ<0?"y":"");bg=~~((bh<1?1:a2/bh)*ad);be=~~((by<1?1:bc/by)*ad);aE=Z+(bh<1||bb<bs?0:~~((bb-bs)/a2*ad));O=Z+(by<1||a5<bl?0:~~((a5-bl)/bc*ad));bC=bb+"px";aO=a5+"px";a1=a2+"px";aT=bc+"px";bf=bg+","+be;aG=aE+","+O;if(aS.coordsize!==bf){aS.coordsize=bf}if(aS.coordorigin!==aG){aS.coordorigin=aG}if(bo.flip!==bA){bo.flip=bA}if(bo.left!==bC){bo.left=bC}if(bo.top!==aO){bo.top=aO}if(bo.width!==a1){bo.width=a1}if(bo.height!==aT){bo.height=aT}}}if(aH&an){bs=0;bm=["m0,0"];aN=(bk>=aY)?0:ad/(aY-bk);aL=(bi>=aW)?0:ad/(aW-bi);bv=-((bk+aY)/2)*aN;bu=-((bi+aW)/2)*aL;bB=this._data;for(bx=0,bq=bB.length;bx<bq;){bz=bB[bx++];if(bz===az){bm[bs++]=" e"}else{if(bz===x){bm[bs++]=" l";bm[bs++]=E(bB[bx++]*aN+bv);bm[bs++]=",";bm[bs++]=E(bB[bx++]*aL+bu)}else{if(bz===Q){bm[bs++]=" m";bm[bs++]=E(bB[bx++]*aN+bv);bm[bs++]=",";bm[bs++]=E(bB[bx++]*aL+bu)}else{if(bz===m||bz===v){aZ=bB[bx++]*aN+bv;aX=bB[bx++]*aL+bu;bn=bB[bx++];if(bn>0){a9=E(aZ-bn*aN);a8=E(aX-bn*aL);aR=E(aZ+bn*aN);aQ=E(aX+bn*aL);bm[bs++]=" ar";bm[bs++]=a9;bm[bs++]=",";bm[bs++]=a8;bm[bs++]=" ";bm[bs++]=aR;bm[bs++]=",";bm[bs++]=aQ;bm[bs++]=" ";bm[bs++]=aR;bm[bs++]=",";bm[bs++]=aX=E(aX);bm[bs++]=" ";bm[bs++]=aR;bm[bs++]=",";bm[bs++]=aX}}}}}}bm=(bs?bm.join(""):aC);aS.path=bm}}}else{throw"AutonCanvas doesn't support your browser!"}}am.region=function(){var D=new aw();this.add(D);return D}}(window));
